<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sky bottle</title>
    <!--파비콘-->
    <link rel="shortcut icon" type="image/x-icon" href="img/f.png" >
    <!--swiper css cdn 연결-->
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
    <!--css 연결-->
    <link href="css/main.css" type="text/css" rel="stylesheet">
    
    <!--제이쿼리 라이브러리 연결-->
    <script src="js/jquery-3.6.0.js"></script>
    <!--swioer js cdn 연결-->
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js">s</script>
    <!--js 연결-->
    <script src="js/main.js"></script>
</head>
<body>
    <div class="wrap">
        <header>
            <div class="logo">
                <a href="index.html">
                    <img src="img/logo.png" alt="로고">
                </a>
            </div>
            <!--1차원메뉴-->
            <nav>
                <ul>
                    <li><a href="#">product</a>
                        <ul class="sub">
                            <li><a href="#">hand cream</a></li>
                            <li><a href="#">body lotion</a></li>
                            <li><a href="#">hair & body mist</a></li>
                            <li><a href="#">set</a></li>
                        </ul>
                    </li>
                
                    <li><a href="#">smells</a>
                        <ul class="sub">
                            <li><a href="#">withe rain</a></li>
                            <li><a href="#">viva la pink</a></li>
                            <li><a href="#">spring fever</a></li>
                            <li><a href="#">vanilla sky</a></li>
                            <li><a href="#">muhwagua</a></li>
                            <li><a href="#">starry night</a></li>
                            <li><a href="#">celebrity</a></li>
                            <li><a href="#">kisch twily</a></li>
                            <li><a href="#">test 1. M&C</a></li>
                        
                        </ul>
                    </li>
                    <li><a href="#">acc</a></li>
                    <li><a href="#">brand</a></li>
                </ul>
            </nav>
            <!--로그인, 회원가입, 고객센터-->
            <div class="header_icon">
                <ul>
                    <li><a href="#">
                        <i><img src="img/user.png" alt="로그인"></i></a></li>
                    <li><a href="#">
                        <i><img src="img/search-symbol.png" alt="검색"></i></a></li>
                    <li><a href="#">
                        <i><img src="img/shopping-bag.png" alt="장바구니"></i></a></li>
                    
                </ul>
            </div>            
        </header>
        <section class="s1">
            <div class="visual">
                <div class="visual_bg">
                    <div class="v1 first">
                        <div class="vi_img"></div>
                    </div>
                    <div class="v2">                   
                        <div class="v2_img"></div>
                    </div>
                    <div class="v3">                    
                        <div class="v3_img"></div>
                    </div>
                    <div class="v4">                
                        <div class="v4_img"></div>
                    </div>            
                </div>
                <div class="visual_des">
                    <div class="v1 des">
                        <h1><p>sky bottle<br><a href="#">+</a></p></h1>
                        
                        
                        </div>
                    <div class="v2 des">
                        <h1><p>hand cream<br><a href="#">+</a></p></h1>
                        
                    </div>
                    <div class="v3 des">
                        <h1><p>rondom box<br><a href="#">+</a></p></h1>
                        
                    </div>
                    <div class="v4 des">
                        <h1><p>body lotion<br><a href="#">+</a></p></h1>
                </div>
            </div>
        </section>
        <section class="s2">
            <div class="center">
                <h1>ordinary</h1>
                <p class="small_title">일상 가장 가까운 곳에 있는 스카이보틀</p>
                <div class="swiper mySwiper1 ordinary">
                    <div class="swiper-wrapper">
                        
                        <div class="swiper-slide s1">
                            <div class="slide_des">
                                <p>KITSH TWILLT</p>
                            </div>
                        </div>
                        <div class="swiper-slide s2">
                            <div class="slide_des">
                                <p>CELEBRITY</p>
                            </div> 
                        </div>
                        <div class="swiper-slide s3">
                            <div class="slide_des">
                                <p>WITHE RAIN</p>
                            </div> 
                        </div>
                        <div class="swiper-slide s4">
                            <div class="slide_des">
                                <p>SPRING FEVER</p>
                            </div> 
                        </div>
                    </div>
                        <div class="swiper-button-next">
                            <img src="img/rightarrow.png" alt="next">
                        </div>
                        <div class="swiper-button-prev">
                            <img src="img/leftarrow.png" alt="prev">
                        </div>

                </div>
            </div>
        </section>
        <section class="s3">
            <div class="center">
                <h1>product</h1>
                <p class="small_title">향과 보습을 둘 다 잡은 스카이보틀의 제품</p>
                <!--탭메뉴-->
                <div class="tab">
                    <div class="tab_title">
                        <ul>
                            <li><a href="#" class="active">hand cream</a></li>
                            <li><a href="#">body lotion</a></li>
                            <li><a href="#">hair & body mist</a></li>
                            <li><a href="#">set</a></li>
                        </ul>
                    </div>
                    <div class="tab_con">
                        <div class="hand cream">
                            <ul>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t1">
                                            <img src="img/h2.png" alt="핸드크림">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t2">
                                            <img src="img/h1.png" alt="핸드크림">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t3">
                                            <img src="img/h3.png" alt="hand cream">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t4">
                                            <img src="img/h4.png" alt="hand cream">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="body lotion">
                            <ul>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t5">
                                            <img src="img/bo1.png" alt="body lotion">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t6">
                                            <img src="img/bo2.png" alt="body lotion">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t7">
                                            <img src="img/bo3.png" alt="body lotion">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t8">
                                            <img src="img/bo4.png" alt="body lotion">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="hair & body mist">
                            <ul>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t9">
                                            <img src="img/ha1.png" alt="mist">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t10">
                                            <img src="img/ha2.png" alt="msit">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t11">
                                            <img src="img/ha3.png" alt="msit">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t12">
                                            <img src="img/ha4.png" alt="msit">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="set">
<ul>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t13">
                                            <img src="img/se1.png" alt="set">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t14">
                                            <img src="img/se2.png" alt="set">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t15">
                                            <img src="img/se3.png" alt="set">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t16">
                                            <img src="img/se4.png" alt="set">
                                        </div>
                                        <div class="tab_txt">

                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>  <!--tab end-->
                    <div class="view_btn">
                        <a href="#"><p></p>VIEW MORE +<p>
                            <span></span>
                        </p></a>
                    </div>
                </div>  <!--center end-->
        </section>
        <section class="s4">
            <div class="center">
                <div class="s4_left">
                    <h1>smell</h1>
                    <p class="small_title">일상 속에 스며든 스카이보틀의 향</p>
                    <div class="gallery">
                        <div class="swiper mySwiper2">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide g1">
                                    <a href="#"><img src ="img/s1.png" alt="slide"></a>
                                </div>
                                <div class="swiper-slide g2">
                                    <a href="#"><img src ="img/s2.png" alt="slide"></a>
                                </div>
                                <div class="swiper-slide g3">
                                    <a href="#"><img src ="img/s3.png" alt="slide"></a>
                                </div>
                                <div class="swiper-slide g4">
                                    <a href="#"><img src ="img/s4.png" alt="slide"></a>
                                </div>
                                <div class="swiper-slide g5">
                                    <a href="#"><img src ="img/s5.png" alt="slide"></a>
                                </div>
                                <div class="swiper-slide g6">
                                    <a href="#"><img src ="img/s6.png" alt="slide"></a>
                                </div>
                                <div class="swiper-slide g7">
                                    <a href="#"><img src ="img/s7.png" alt="slide"></a>
                                    
                                </div>
                                <div class="swiper-slide g8">
                                    <a href="#"><img src ="img/s8.png" alt="slide"></a>
                                </div>
                                <div class="swiper-slide g9">
                                    <a href="#"><img src ="img/s9.png" alt="slide"></a>
                                </div>
                            </div><!--slide-wrapper-->
                            <div class="swiper-button-next2">
                                <img src="img/rightarrow.png" alt="next">
                            </div>
                            <div class="swiper-button-prev2">
                                <img src="img/leftarrow.png" alt="prev">
                            </div>
                         </div> 
                            
                        </div>
                    </div>
                
                <div class="s4_right">
                    <div class="swiper mySwiper3">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide g1">
                                <a href="#"><img src ="img/s1.png" alt="slide"></a>
                            </div>
                            <div class="swiper-slide g2">
                                <a href="#"><img src ="img/s" alt="slide"></a>
                            </div>
                            <div class="swiper-slide g3">
                                <a href="#"><img src ="img/s3.png" alt="slide"></a>
                            </div>
                            <div class="swiper-slide g4">
                                <a href="#"><img src ="img/s4.png" alt="slide"></a>
                            </div>
                            <div class="swiper-slide g5">
                                <a href="#"><img src ="img/s5.png" alt="slide"></a>
                            </div>
                            <div class="swiper-slide g6">
                                <a href="#"><img src ="img/s6.png" alt="slide"></a>
                            </div>
                            <div class="swiper-slide g7">
                                <a href="#"><img src ="img/s7.png" alt="slide"></a>
                                
                            </div>
                            <div class="swiper-slide g8">
                                <a href="#"><img src ="img/s8.png" alt="slide"></a>
                            </div>
                            <div class="swiper-slide g9">
                                <a href="#"><img src ="img/s9.png" alt="slide"></a>
                            </div>
                        </div>
                </div>
            </div>
        </section>
        <section class="s5">
            <div class="center">
                <h1>test 1. M&C</h1>
                <p class="small_title">스카이보틀만의 특별한 핸드크림을 만나보세요</p>
                <div class="test 1. M&C">
                    <ul>
                        <li>
                            <a href="#">
                                <img src="img/m1.png" alt="test 1. M&C">
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img src="img/m4.png" alt="test 1. M&C">
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img src="img/m2.png" alt="test 1. M&C">
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img src="img/m3.png" alt="test 1. M&C">
                            </a>
                        </li>

                    </ul>
                </div>
            </div>
        </section>
        <footer>
            <div class="top_footer">
                <div class="center">
                    <div class="user">
                        <ul>
                            <li>
                                <a href="#">회사소개</a>
                            </li>
                            <li>
                                <a href="#">이용약관</a>
                            </li>
                            <li>
                                <a href="#">개인정보처리방침</a>
                            </li>
                            <li>
                                <a href="#">채용정보</a>
                            </li>
                        </ul>
                    </div>
                    <div class="sns">
                        <ul>
                            <li><a href="#"><img src="img/snsi.png" alt=""></a></li>
                            <li><a href="#"><img src="img/snsf.png" alt=""></a></li>
                            <li><a href="#"><img src="img/snsy.png" alt=""></a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="bottom_footer">
                <div class="center">
                    <div class="addr">
                        <address>
                            주식회사 하늘을담다 tel: 02-6952-1226 address: 04769 서울특별시 성동구 왕십리로 63 (성수동1가) 언더스탠드에비뉴, A동 7-2호<br> business license: 249-86-01025 online license: 2021-서울성동-01601
                        </address>
                        <p>copyright (c) 2021 주식회사 하늘을담다. all rights reserved.</p>
                    </div>
                    <div class="family">
                        <div class="family_title">
                            <a href="#">FAMILY SITE <span></span></a>
                        </div>
                        <div class="family_list">
                            <ul>
                                <li><a href="#">키엘</a></li>
                                <li><a href="#">논픽션</a></li>
                                <li><a href="#">록시땅</a></li>
                                <li><a href="#">탬버린즈</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!--top버튼-->
        <div class="top">TOP</div>
    </div>

    <!--visual 아코디언 메뉴 제이쿼리 코드-->
    <script src="https://code.jquery.com/jquery-1.11.0.js"></script>
    <script>
        //버전이 다른 2개의 제이쿼리를 사용하는 경우 제이쿼리의 충돌을 막기 위해서 제이쿼리를 다시 정리함. $j=jQuery
        var $j = $.noConflict();
        $j(document).ready(function(){
            //pdt_fix() 함수 호출
        pdt_fix();
        //menuWidthSet() 함수 호출
        menuWidthSet();
            //.visual_des의 직속자식객체 div마우스 오버 이벤트 설정
        $j('.visual_des > div').mouseover( function (){
            // .s1객체의 높이값을 _height변수에 저장
            var _height = $j('.s1').height();
            //$j(this) : 마우스오버이벤트가 발생한 객체를 가리킴 (.visual_des > div)
            // .m_width_over 함수 호출하면서 .visual_des > div 객체를 매개변수에 전달
            m_width_over( $j(this) );
            
            //만약 마우스 오버한 객체가 v1이거나 v4라면 
            if ( $j(this).hasClass('v1') || $j(this).hasClass('v4') )
            {
                //v1또는 v4 영역의 가로길이 30%로 늘림
                //clearQueue()는 큐 메모리를 청소하라는 메서드
                $j(this).clearQueue().animate({'width':'30%'});
            }
            // .visual_des의 직속자식객체 div에서 마우스를 아웃시켰을 때
        }).mouseout( function (){
            //m_width_out함수 호출하면서 visual_des > div객체를 매개변수에 전달
            m_width_out( $j(this) );
            //만약 마우스 아웃한 객체가 v1 또는 v4라면
            
            if ( $j(this).hasClass('v1') || $j(this).hasClass('v4') )
            {
                 //v2 또는 v4 영역의 가로길이를 25%로 줄임
                $j(this).clearQueue().animate({'width':'25%'});
            }
        });
        //pdt_fix함수 선언
        function pdt_fix(){
            // .s1의 높이값 *0.166-49를 계산하여 _mgb변수에 저장
            var _mgb = $j('.s1').height() * 0.166-49;
            // .s1의 높이값 *0.108를 계산하여 _mgb변수에 저장
            var _mgb2 = $j('.s1').height() * 0.108;
            // .s1의 높이값을 _box변수에 저장
            var _box = $j('.s1').height() ; //* 0.042

            // .visual_des 영역의 제목(h1)의 왼쪽 여백 값 지정
            $j('.visual_des h1').css('margin-left','5vw')
        }
        //변수 선언
        var _defaultWidth;
        var _defaultHeight;
        var _defaultGap;

        //menuWidthSet 함수 선언
        function menuWidthSet(){
            //. s1 영역의 가로길이를 4호 나눈 값을 _defaultWidth 변수에 저장
            _defaultWidth = Math.round($j('.s1').width() / 4);
            // .s1의 자식객체 (.v1 .v2 .v3 .v4)끼리 겹치는 영역을 계산하여 _defaultGap 변수에 저장
            _defaultGap = Math.round($j('.s1').width() * 0.026);
            //.s1 영역의 높이값을 _defaultHeight 변수에 저장
            _defaultHeight = $j('.s1').height();
            //첫번째 영역(v1)과 네번째 영역 (v4)가 아닌 div객체들에 대해서 clip마스크를 사각형 영역으로 설정함.
            $j('.visual_bg > div').not('.first, .last').css({'clip':'rect(0px, '+ (_defaultWidth + 100) +'px, '+_defaultHeight + 'px, ' + _defaultGap + 'px)'});
            //첫번째 영역(v1)에 대해서 clip 마스크를 사각형 영역으로 설정함
            $j('.visual_bg > div.first').css({'clip':'rect(0px, '+ (_defaultWidth+_defaultGap*2) +'px, '+_defaultHeight + 'px, ' +  '0px)'});
            //네번째 영역(v4)에 대해서 clip 마스크를 사각형 영역으로 설정함
            $j('.visual_bg > div.last').css({'clip':'rect(0px, '+ (_defaultWidth+_defaultGap*2) +'px, '+_defaultHeight + 'px, ' + (_defaultGap*2) +'px)'});
        }
        //m_width_over 함수 선언, $this:매개변수(.visual_des > div 객체를 전달받음)
        function m_width_over( $this ){
                //마우스 오버된 객체의 인덱스 번호를 _currIndex변수에 저장
            var _currIndex = $this.index();
            //v1~v4영역끼리 겹치는 부분을 2배로 설정
            var _gapX2 = _defaultGap*2;
            //v1~v4영역끼리 겹치는 부분을 3배로 설정
            var _gapX3 = _defaultGap*3;
            //인덱스 번호가 0이라면(v1영역에 마우스오버했을 때)
            if ( $this.index() == 0 )
            {
                //마우스 오버된v1영역의 가로길이가 넓어짐(왼쪽 기준)
                $j('.visual_bg .v1').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _gapX2 ) +'px, '+_defaultHeight + 'px, 0px)'});
                //v2영역의 가로길이는 조금 좁아짐
                $j('.visual_bg .v2').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _defaultGap + 1 ) +'px, '+_defaultHeight + 'px, ' + (_gapX3-1) +'px)'});

                //v1 영역에 마우스 오버했을 때 자식객체 h1과 p태그의 위치값 변경
                $j('.visual_des .v2 h1').css('margin-left','7vw');
                $j('.visual_des .arrow img').attr('src','img/arrow.png');
                $j('.visual_des .v1 .arrow img').attr('src','img/arrow2.png');
            }
            
            //인덱스 번호가 1이라면(v2영역에 마우스오버했을 때)
            else if ( $this.index() == 1 )
            {
                $j('.visual_bg .v1').clearQueue().animate({'clip' : 'rect(0px, '+ _defaultWidth +'px, '+_defaultHeight + 'px, 0px)'});
                $j('.visual_bg .v2').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _gapX2 ) +'px, '+_defaultHeight + 'px, 0px)'});
                $j('.visual_bg > .v3').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _defaultGap ) +'px, '+_defaultHeight + 'px, ' + (_gapX2-1) +'px)'});
                $j('.visual_des h1').css('margin-left','5vw');
                $j('.visual_des .v3 h1').css('margin-left','7vw');
                $j('.visual_des .arrow img').attr('src','img/arrow.png');
                $j('.visual_des .v2 .arrow img').attr('src','img/arrow2.png');
            }
            //인덱스 번호가 2이라면(v3영역에 마우스오버했을 때)
            else if ( $this.index() == 2 )
            {
                $j('.visual_bg .v2').clearQueue().animate({'clip' : 'rect(0px, '+  _defaultWidth  +'px, '+_defaultHeight + 'px, 50px)'});
                $j('.visual_bg .v3').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _gapX2 + 1 ) +'px, '+_defaultHeight + 'px, 0px)'});
                $j('.visual_bg > .v4').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _defaultGap*2 ) +'px, '+_defaultHeight + 'px, ' + (_gapX3-1) +'px)'});
                $j('.visual_des h1').css('margin-left','5vw');
                $j('.visual_des .v34 h1').css('margin-left','7vw');
                $j('.visual_des .arrow img').attr('src','img/arrow.png');
                $j('.visual_des .v3 .arrow img').attr('src','img/arrow2.png');
            }
            //v4영역에 마우스 오버했을 때
            else
            {
                //v3영역의 가로길이 좁아짐
                $j('.visual_bg .v3').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth ) +'px, '+_defaultHeight + 'px, ' + _defaultGap +'px)'});
                $j('.visual_bg .v4').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _gapX2 ) +'px, '+_defaultHeight + 'px, ' + '0px)'});
                $j('.visual_des h1').css('margin-left','5vw');
                $j('.visual_des .arrow img').attr('src','img/arrow.png');
                $j('.visual_des .v4 .arrow img').attr('src','img/arrow2.png');
            }
        }

        function m_width_out( $this ){
            var _currIndex = $this.index();

            $j('.visual_bg > div').not('.first, .last').clearQueue().animate({'clip':'rect(0px, '+ (_defaultWidth + 100) +'px, '+_defaultHeight + 'px, ' + _defaultGap + 'px)'});
            $j('.visual_bg > .first').clearQueue().animate({'clip':'rect(0px, '+ (_defaultWidth+_defaultGap*2) +'px, '+_defaultHeight + 'px, ' +  '0px)'});
            $j('.visual_bg > .last').clearQueue().animate({'clip':'rect(0px, '+ (_defaultWidth+_defaultGap*2) +'px, '+_defaultHeight + 'px, ' +  (_defaultGap*2)  + 'px)'});
            $j('.visual_des .arrow img').attr('src','img/arrow.png');
            $j('.visual_des h1').css('margin-left','5vw');
            
        }


        function getStyle(elem, name) {
            return (elem.currentStyle && elem.currentStyle[name]) || elem.style[name];
        }

        function getClip(elem) {
            var cssClip = jQuery(elem).css('clip') || '';

            if (!cssClip) {
                // Try to get the clip rect another way for IE8.
                // This is a workaround for jQuery's css('clip') returning undefined
                // when the clip is defined in an external stylesheet in IE8. -JPOEHLS
                var pieces = {
                    top: getStyle(elem, 'clipTop'),
                    right: getStyle(elem, 'clipRight'),
                    bottom: getStyle(elem, 'clipBottom'),
                    left: getStyle(elem, 'clipLeft')
                };

                if (pieces.top && pieces.right && pieces.bottom && pieces.left) {
                    cssClip = 'rect(' + pieces.top + ' ' + pieces.right + ' ' + pieces.bottom + ' ' + pieces.left + ')';
                }
            }

            // Strip commas and return.
            return cssClip.replace(/,/g, ' ');
        }

        jQuery.fx.step.clip = function (fx) {
            if (fx.pos === 0) {
                var cRE = /rect\(([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)\)/;

                fx.start = cRE.exec(getClip(fx.elem));
                if (typeof fx.end === 'string') {
                    fx.end = cRE.exec(fx.end.replace(/,/g, ' '));
                }
            }
            if (fx.start && fx.end) {
                var sarr = new Array(), earr = new Array(), spos = fx.start.length, epos = fx.end.length,
                emOffset = fx.start[ss + 1] == 'em' ? (parseInt(j(fx.elem).css('fontSize')) * 1.333 * parseInt(fx.start[ss])) : 1;
                for (var ss = 1; ss < spos; ss += 2) { sarr.push(parseInt(emOffset * fx.start[ss])); }
                for (var es = 1; es < epos; es += 2) { earr.push(parseInt(emOffset * fx.end[es])); }
                fx.elem.style.clip = 'rect(' +
                parseInt((fx.pos * (earr[0] - sarr[0])) + sarr[0]) + 'px ' +
                parseInt((fx.pos * (earr[1] - sarr[1])) + sarr[1]) + 'px ' +
                parseInt((fx.pos * (earr[2] - sarr[2])) + sarr[2]) + 'px ' +
                parseInt((fx.pos * (earr[3] - sarr[3])) + sarr[3]) + 'px)';
            }
        }
    });

</script>
</body>
</html>